<div class="container">
    <button routerLink="/products" class="btn btn-secondary mt-3">
        Volver a Productos
    </button>

    <h1 *ngIf="!editProduct" class="mt-4 mb-4">Creando Producto</h1>
    <h1 *ngIf="editProduct" class="mt-4 mb-4">Modificando Producto</h1>

    <section *ngIf="!validatedCode && !editProduct">
        <form [formGroup]="codeForm" (ngSubmit)="verifyCode(codeForm)">
            <div class="mt-3 mb-3">
                <label for="codeInput" class="form-label">Código / SKU</label>
                <input type="text" required id="codeInput" class="form-control" formControlName="code"
                  placeholder="Ingrese el código del producto" name="code" [(ngModel)]="product.code" />
                <div *ngIf="codeForm.get('code')?.invalid && codeForm.get('code')?.touched" 
                  class="fw-lighter text-danger">
                  Debe ingresar un codigo valido
                </div>
            </div>
        
            <button type="submit" [disabled]="codeForm.invalid" class="btn btn-primary mt-2">
                Verificar
            </button>

            <div class="alert alert-danger alert-dismissible fade show mt-4" 
                role="alert" *ngIf="!validCode">
                <strong>El Código/SKU que intenta ingresar ya se encuentra registrado!</strong>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        </form>
    </section>
</div>